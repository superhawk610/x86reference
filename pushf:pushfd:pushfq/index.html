<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/x86reference/styles.a3de1a7108dea70e2394.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);.search{position:relative}.search input{border:2px solid #ccc;border-radius:4px;display:block;outline:0;padding:7px 12px 6px;transition:border-color .25s ease-out;width:100%}.search input:focus{border-color:var(--link-color)}.search input::-moz-placeholder{color:#ccc}.search input:-ms-input-placeholder{color:#ccc}.search input::placeholder{color:#ccc}.search ul{background:#fff;border-radius:4px;box-shadow:var(--floating-shadow);left:0;max-height:400px;overflow-y:scroll;position:absolute;top:calc(100% + 2px);width:550px}.search ul>li>a{color:#000;display:block;padding:.5rem;text-decoration:none}.search ul>li>a:hover{background:var(--link-color);color:#fff}.search ul{opacity:0;pointer-events:none;transition:opacity .25s ease-out}.search:focus-within ul:not(.hidden){opacity:1;pointer-events:auto}#sidebar{background:var(--sidebar-background);display:flex;flex-direction:column;height:100vh;padding:var(--sidebar-padding);position:absolute;width:var(--sidebar-width)}#sidebar>section:not(:last-child){padding-bottom:1rem}#sidebar>section:last-child{margin-top:auto}#site-title{font-size:1.5rem;margin:1rem 0 .25rem}#site-description{font-size:.9rem}#site-description>p{color:#555;margin-top:.2rem}#footer{font-size:.85rem;text-align:center}#footer>.copyright{font-size:.75rem;margin-top:.35rem;opacity:.5}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:root{--font-size:16px;--font-w-medium:400;--font-w-bold:700;--font-family:"Roboto",sans-serif;--sidebar-width:340px;--sidebar-padding:1rem;--sidebar-background:#eee;--body-padding:1.5rem;--link-color:#007eff;--floating-shadow:hsla(210,8%,62%,0.2) 0px 8px 24px}*{box-sizing:border-box}a:not(.button,.no-underline){border-bottom:2px solid transparent;color:var(--link-color);text-decoration:none;transition:border-bottom-color .1s ease-out}a:not(.button,.no-underline):hover{border-bottom-color:var(--link-color)}h1{font-size:2rem;margin:0 0 1rem}h1,h2{font-weight:700}h2{font-size:1.5rem;margin:1rem 0 .5rem}p,ul{margin:0}ul{list-style:none;padding:0}#root{font-family:var(--font-family);font-size:var(--font-size);height:100vh;width:100vw}#main{height:100%;overflow-y:auto;padding:var(--body-padding);padding-left:calc(var(--sidebar-width) + var(--body-padding));width:100%}:root{--button-text:#333;--button-background:#49ffa2;--button-background-hover:#62ffaf}.button{background:var(--button-background);border:0;border-radius:4px;color:var(--button-text);cursor:pointer;font-weight:700;padding:5px 12px 4px;text-decoration:none;transform:scale(1);transition:all 50ms ease-out}.button:active,.button:hover{background:var(--button-background-hover);box-shadow:var(--floating-shadow);transform:scale(1.03)}.button svg{stroke:currentColor;margin-left:.5rem;vertical-align:top;width:16px}.op-title{align-items:flex-start;display:flex;flex-direction:row;justify-content:space-between}.op-title>h1{margin:0}.op-variants>ul{list-style:disc;padding-left:1.5rem}.op-variants>ul>li{color:var(--link-color);font-weight:var(--font-w-bold)}.op-documentation>article{line-height:1.4;max-width:800px;text-align:justify}.op-documentation>article>p{margin-bottom:.7rem}</style><meta name="generator" content="Gatsby 3.14.2"/><title data-react-helmet="true">pushf:pushfd:pushfq | x86reference</title><meta data-react-helmet="true" name="description" content="Quickly search x86 assembly documentation."/><meta data-react-helmet="true" property="og:title" content="pushf:pushfd:pushfq"/><meta data-react-helmet="true" property="og:description" content="Quickly search x86 assembly documentation."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="superhawk610"/><meta data-react-helmet="true" name="twitter:title" content="pushf:pushfd:pushfq"/><meta data-react-helmet="true" name="twitter:description" content="Quickly search x86 assembly documentation."/><link as="script" rel="preload" href="/x86reference/webpack-runtime-55b4cc8494f33639cd2e.js"/><link as="script" rel="preload" href="/x86reference/framework-240c1f9815d126e19dd9.js"/><link as="script" rel="preload" href="/x86reference/app-3a586ed0f4908be63305.js"/><link as="script" rel="preload" href="/x86reference/commons-22bb667442072a07a02d.js"/><link as="script" rel="preload" href="/x86reference/component---src-templates-op-tsx-3c5f6bd58768b0241b3b.js"/><link as="fetch" rel="preload" href="/x86reference/page-data/pushf:pushfd:pushfq/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/x86reference/page-data/sq/d/3832154866.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/x86reference/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/x86reference/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="root"><nav id="sidebar"><section><div id="site-title"><a href="/x86reference/">x86reference</a></div><div id="site-description"><p>Quickly search x86 assembly documentation.</p><p>powered by<!-- --> <a href="https://github.com/zneak/x86doc" target="_blank">zneak/x86doc</a></p></div></section><section><div class="search"><input type="text" value="" placeholder="Search..."/><ul class="hidden"></ul></div></section><section><ul><li><a href="#"></a></li></ul></section><section><footer id="footer"><p>created by<!-- --> <a href="https://github.com/superhawk610" target="_blank">superhawk610</a> <!-- -->·<!-- --> <a href="https://github.com/superhawk610/x86reference">repo</a></p><p class="copyright">© <!-- -->2021<!-- -->, all rights reserved</p></footer></section></nav><main id="main"><div id="scroll-wrapper"><div class="op-title"><h1>pushf:pushfd:pushfq</h1><a class="button" href="https://www.felixcloutier.com/x86/PUSHF%3APUSHFD%3APUSHFQ.html" target="_blank" rel="noreferrer noopener">Full Documentation<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="up-right-from-square" class="svg-inline--fa fa-up-right-from-square" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M384 320c-17.67 0-32 14.33-32 32v96H64V160h96c17.67 0 32-14.32 32-32s-14.33-32-32-32L64 96c-35.35 0-64 28.65-64 64V448c0 35.34 28.65 64 64 64h288c35.35 0 64-28.66 64-64v-96C416 334.3 401.7 320 384 320zM488 0H352c-12.94 0-24.62 7.797-29.56 19.75c-4.969 11.97-2.219 25.72 6.938 34.88L370.8 96L169.4 297.4c-12.5 12.5-12.5 32.75 0 45.25C175.6 348.9 183.8 352 192 352s16.38-3.125 22.62-9.375L416 141.3l41.38 41.38c9.156 9.141 22.88 11.84 34.88 6.938C504.2 184.6 512 172.9 512 160V24C512 10.74 501.3 0 488 0z"></path></svg></a></div><section class="op-variants"><h2>Variants</h2><ul><li>PUSHF</li><li>PUSHFQ</li><li>PUSHFD</li></ul></section><section class="op-documentation"><h2>Documentation</h2><article><p>Decrements the stack pointer by 4 (if the current operand-size attribute is 32) and pushes the entire contents of the EFLAGS register onto the stack, or decrements the stack pointer by 2 (if the operand-size attribute is 16) and pushes the lower 16 bits of the EFLAGS register (that is, the FLAGS register) onto the stack. These instructions reverse the operation of the POPF/POPFD instructions.</p><p>When copying the entire EFLAGS register to the stack, the VM and RF flags (bits 16 and 17) are not copied; instead, the values for these flags are cleared in the EFLAGS image stored on the stack. See Chapter 3 of the <em>Intel® 64 and IA-32 Architectures Software Developer’s Manual, Volume 1</em>, for more information about the EFLAGS register.</p><p>The PUSHF (push flags) and PUSHFD (push flags double) mnemonics reference the same opcode. The PUSHF instruction is intended for use when the operand-size attribute is 16 and the PUSHFD instruction for when the operand-size attribute is 32. Some assemblers may force the operand size to 16 when PUSHF is used and to 32 when PUSHFD is used. Others may treat these mnemonics as synonyms (PUSHF/PUSHFD) and use the current setting of the operand-size attribute to determine the size of values to be pushed from the stack, regardless of the mnemonic used.</p><p>In 64-bit mode, the instruction’s default operation is to decrement the stack pointer (RSP) by 8 and pushes RFLAGS on the stack. 16-bit operation is supported using the operand size override prefix 66H. 32-bit operand size cannot be encoded in this mode. When copying RFLAGS to the stack, the VM and RF flags (bits 16 and 17) are not copied; instead, values for these flags are cleared in the RFLAGS image stored on the stack.</p><p>When operating in virtual-8086 mode (EFLAGS.VM = 1) without the virtual-8086 mode extensions (CR4.VME = 0), the PUSHF/PUSHFD instructions can be used only if IOPL = 3; otherwise, a general-protection exception (#GP) occurs. If the virtual-8086 mode extensions are enabled (CR4.VME = 1), PUSHF (but not PUSHFD) can be executed in virtual-8086 mode with IOPL &lt; 3.</p><p>(The protected-mode virtual-interrupt feature — enabled by setting CR4.PVI — affects the CLI and STI instructions in the same manner as the virtual-8086 mode extensions. PUSHF, however, is not affected by CR4.PVI.)</p><p>In the real-address mode, if the ESP or SP register is 1 when PUSHF/PUSHFD instruction executes: an #SS exception is generated but not delivered (the stack error reported prevents #SS delivery). Next, the processor generates a #DF exception and enters a shutdown state as described in the #DF discussion in Chapter 6 of the <em>Intel® 64 and IA-32 Architectures Software Developer’s Manual, Volume 3A</em>.</p></article></section></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/pushf:pushfd:pushfq";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-98a2719a671ef429ca89.js"],"app":["/app-3a586ed0f4908be63305.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-70af0695eefaff51dafa.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-dfc27d583385ab8372d0.js"],"component---src-templates-op-tsx":["/component---src-templates-op-tsx-3c5f6bd58768b0241b3b.js"]};/*]]>*/</script><script src="/x86reference/polyfill-98a2719a671ef429ca89.js" nomodule=""></script><script src="/x86reference/component---src-templates-op-tsx-3c5f6bd58768b0241b3b.js" async=""></script><script src="/x86reference/commons-22bb667442072a07a02d.js" async=""></script><script src="/x86reference/app-3a586ed0f4908be63305.js" async=""></script><script src="/x86reference/framework-240c1f9815d126e19dd9.js" async=""></script><script src="/x86reference/webpack-runtime-55b4cc8494f33639cd2e.js" async=""></script></body></html>